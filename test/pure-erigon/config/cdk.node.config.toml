ForkUpgradeBatchNumber = 0
ForkUpgradeNewForkId = 0

[Common]
IsValidiumMode = true
ContractVersions = "elderberry"

[Log]
Environment = "development" # "production" or "development"
Level = "info"
Outputs = ["stderr"]

[SequenceSender]
WaitPeriodSendSequence = "15s"
LastBatchVirtualizationTimeMaxWaitPeriod = "10s"
MaxTxSizeForL1 = 131072
L2Coinbase =  "0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266"
PrivateKey = {Path = "/app/keystore/sequencer.keystore", Password = "testonly"}
SequencesTxFileName = "./sequencesender.json"
GasOffset = 80000
WaitPeriodPurgeTxFile = "15m"
MaxPendingTx = 1
        [SequenceSender.StreamClient]
                Server = "erigon-seq:6900"
        [SequenceSender.EthTxManager]
                FrequencyToMonitorTxs = "1s"
                WaitTxToBeMined = "2m"
                ConsolidationL1ConfirmationBlocks = 5
                FinalizationL1ConfirmationBlocks = 10
                WaitReceiptToBeGenerated = "8s"
                PrivateKeys = [
                        {Path = "/app/keystore/sequencer.keystore", Password = "testonly"},
                ]
                ForcedGas = 0
                GasPriceMarginFactor = 1
                MaxGasPriceLimit = 0
                PersistenceFilename = "./ethtxmanager.json"
                [SequenceSender.EthTxManager.Etherman]
                        URL = "http://erigon-mock-l1-network:8545"
                        L1ChainID = 1337
                        HTTPHeaders = []

[Aggregator]
        Host = "0.0.0.0"
        Port = "50081"
        RetryTime = "30s"
        VerifyProofInterval = "30s"
        ProofStatePollingInterval = "5s"
        TxProfitabilityCheckerType = "acceptall"
        TxProfitabilityMinReward = "1.1"
        IntervalAfterWhichBatchConsolidateAnyway = "0s"
        ChainID = "1001"
        ForkId = 9
        CleanupLockedProofsInterval = "2m0s"
        GeneratingProofCleanupThreshold = "10m"
        GasOffset = 150000
        UpgradeEtrogBatchNumber = 0
        WitnessURL = "http://erigon-seq:8123"

        SenderAddress = "0x70997970c51812dc3a010c7d01b50e0d17dc79c8"
        SettlementBackend = "l1"
        AggLayerTxTimeout = "600s"

        AggLayerURL = ""



        [Aggregator.SequencerPrivateKey]
                Path = "/app/keystore/sequencer.keystore"
                Password = "testonly"

        [Aggregator.DB]
                Name = "aggregator_db"
                User = "aggregator_user"
                Password = "aggregator_password"
                Host = "cdk-aggregator-db"
                Port = "5432"
                EnableLog = false
                MaxConns = 200
        [Aggregator.Log]
                Environment = "development" # "production" or "development"
                Level = "info"
                Outputs = ["stderr"]
        [Aggregator.StreamClient]
                Server = "erigon-seq:6900"
        [Aggregator.EthTxManager]
                FrequencyToMonitorTxs = "1s"
                WaitTxToBeMined = "2m"
                GetReceiptMaxTime = "250ms"
                GetReceiptWaitInterval = "1s"
                PrivateKeys = [
                        {Path = "/app/keystore/aggregator.keystore", Password = "testonly"},
                ]
                ForcedGas = 0
                GasPriceMarginFactor = 1
                MaxGasPriceLimit = 0
                PersistenceFilename = ""
                ReadPendingL1Txs = false
                SafeStatusL1NumberOfBlocks = 5
                FinalizedStatusL1NumberOfBlocks = 10
                [Aggregator.EthTxManager.Etherman]
                        URL = "http://erigon-mock-l1-network:8545"
                        L1ChainID = 1337
                        HTTPHeaders = []
        [Aggregator.Synchronizer]
                [Aggregator.Synchronizer.DB]
                        Name = "syncer_db"
                        User = "syncer_user"
                        Password = "syncer_password"
                        Host = "cdk-l1-sync-db"
                        Port = "5432"
                        EnableLog = false
                        MaxConns = 10
                [Aggregator.Synchronizer.Synchronizer]
                        SyncInterval = "10s"
                        SyncChunkSize = 1000
                        GenesisBlockNumber = 1
                        SyncUpToBlock = "latest"
                        BlockFinality = "latest"
                        OverrideStorageCheck = false
                [Aggregator.Synchronizer.Etherman]
                        [Aggregator.Synchronizer.Etherman.Validium]
                                Enabled = true
#                                TrustedSequencerURL = "http://erigon-seq:8123"
                                #DataSourcePriority = ["trusted", "external"]

[RPC]

[NetworkConfig.L1]
ChainID = "1337"
PolAddr = "0x5FbDB2315678afecb367f032d93F642f64180aa3"
ZkEVMAddr = "0x8dAF17A20c9DBA35f005b6324F493785D239719d"
RollupManagerAddr = "0xB7f8BC63BbcaD18155201308C8f3540b07f84F5e"
GlobalExitRootManagerAddr = "0x8A791620dd6260079BF849Dc5567aDC3F2FdC318"
